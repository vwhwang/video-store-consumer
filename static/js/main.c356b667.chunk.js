(this["webpackJsonpvideo-store-consumer"]=this["webpackJsonpvideo-store-consumer"]||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/char_vic_v2.f2bdc132.jpg"},36:function(e,t,a){e.exports=a(74)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(27),o=a.n(s),l=(a(41),a(28)),r=a(29),i=a(35),m=a(34),u=a(4),d=(a(42),function(e){return c.a.createElement("button",{className:"Movie-name-button",onClick:function(){e.onClickCallBack(e.movie),console.log(e.movie)}},e.movie.title)}),v=(a(43),a(10)),p=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),s=a[0],o=a[1];Object(n.useEffect)((function(){v.get("https://moviestar13.herokuapp.com/movies/").then((function(e){o(e.data)}))}),[]);var l=s.map((function(t){return c.a.createElement(d,{key:t.id,movie:t,onClickCallBack:e.setSelectedMovieCallBack})}));return c.a.createElement("div",{className:"MovieList"},c.a.createElement("h3",null,"Movie List:"),l)},h=(a(61),function(e){return c.a.createElement("button",{className:"Customer-name-button",onClick:function(){e.setSelectedCustomerCallBack(e.customer),console.log(e.customer)}},e.customer.name)}),f=(a(62),a(10)),E=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),s=a[0],o=a[1];Object(n.useEffect)((function(){f.get("https://moviestar13.herokuapp.com/customers/").then((function(e){o(e.data)}))}),[]);var l=s.map((function(t){return c.a.createElement(h,{key:t.id,customer:t,setSelectedCustomerCallBack:e.setSelectedCustomerCallBack})}));return c.a.createElement("div",{className:"CustomerList"},c.a.createElement("h3",null,"Customer List:"),l)},b=a(10),C=function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),s=a[0],o=a[1];return Object(n.useEffect)((function(){b.post("https://moviestar13.herokuapp.com/add/",{external_id:s.external_id,title:s.title,image_url:s.image_url,overview:s.overview,release_date:s.release_date}).then((function(e){console.log("Successfully Added Movie: "+s.title),console.log(e.data)})).catch((function(e){console.log(e.response.data.errors),console.log("FAILED to add new movie to library!")}))}),[s]),c.a.createElement("button",{onClick:function(t){t.preventDefault(),o(e.movie)},className:"MainButton",id:"Hotpink"},"Add Movie to Library")},k=(a(63),function(e){return e.movie.title?c.a.createElement("div",{className:"Search-detail-movie-container"},c.a.createElement("h3",null,"Movie Details:"),c.a.createElement("p",null,c.a.createElement("span",{className:"Search-detail-movie-details"},"Movie: "),e.movie.title,", ",c.a.createElement("span",{className:"Search-detail-movie-details"},"Release Date: "),e.movie.release_date),c.a.createElement("p",null,c.a.createElement("span",{className:"Search-detail-movie-details"},"Overview: ")," ",e.movie.overview),c.a.createElement("img",{src:e.movie.image_url,alt:"alt"})):null}),N=(a(64),a(10)),g=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(""),r=Object(u.a)(l,2),i=r[0],m=r[1],v=Object(n.useState)([]),p=Object(u.a)(v,2),h=p[0],f=p[1];Object(n.useEffect)((function(){N.get("https://moviestar13.herokuapp.com/movies?query="+i).then((function(e){f(e.data)}))}),[i]);var E=Object(n.useState)([]),b=Object(u.a)(E,2),g=b[0],S=b[1],A=function(e){S(e)},O=h.map((function(e){return c.a.createElement(d,{key:e.id,movie:e,onClickCallBack:A})}));return c.a.createElement("div",{className:"Search"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(s)}},c.a.createElement("input",{className:"Searchbar",type:"text",onChange:function(e){var t,a,n=(t=e.target.value,a=Object(u.a)(t,1),e.target.name=a[0],t);o(n)},name:"title",placeholder:"Search movie title",value:s}),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Submit Movie Search",className:"MainButton"}))),h&&c.a.createElement("h4",null,"Results"),O,c.a.createElement(k,{movie:g}),c.a.createElement(C,{movie:g}))},S=(a(65),a(13)),A=a.n(S),O=a(10),j=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)({movie:"",customer:""}),r=Object(u.a)(l,2),i=r[0],m=r[1];return Object(n.useEffect)((function(){var t=new Date;t.setDate(t.getDate()+7),O.post("https://moviestar13.herokuapp.com/rentals/"+i.movie+"/check-out",{customer_id:i.customer,due_date:t}).then((function(a){o(e.customer.name+" checked out: "+i.movie+"! Due Date "+A()(t).format("LL")),console.log("Successfully Checked Out Movie"+i.movie)})).catch((function(e){console.log("FAILED ON API CALL")}))}),[i]),c.a.createElement("span",null,c.a.createElement("button",{className:"Checkout-checkIn-checkOut MainButton",onClick:function(t){t.preventDefault(),m({movie:e.movie,customer:e.customer.id})}},"Check Out Movie"),c.a.createElement("p",null,s))},y=(a(67),a(10)),M=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)({movie:"",customer:""}),r=Object(u.a)(l,2),i=r[0],m=r[1];return Object(n.useEffect)((function(){y.post("https://moviestar13.herokuapp.com/rentals/"+i.movie+"/return",{customer_id:i.customer}).then((function(t){o(e.customer.name+" returned "+i.movie+" !"),console.log("Successfully Returned Movie"+i.movie),console.log(t.data)})).catch((function(e){console.log(e.response.data.errors),console.log("FAILED ON API CALL")}))}),[i]),c.a.createElement("span",null,c.a.createElement("button",{className:"Return-checkIn-checkOut MainButton",onClick:function(t){t.preventDefault(),m({movie:e.movie,customer:e.customer.id})}},"Return Movie"),c.a.createElement("p",null,s))},w=(a(68),a(30)),L=a.n(w),_=a(32),B=a(33),D=a(11),R=a(2),I=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={selectedMovie:{},selectedCustomer:{}},n}return Object(r.a)(a,[{key:"setSelectedMovie",value:function(e){this.setState({selectedMovie:e})}},{key:"setSelectedCustomer",value:function(e){this.setState({selectedCustomer:e})}},{key:"onClearSelection",value:function(){this.setState({selectedMovie:{}}),this.setState({selectedCustomer:{}})}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("h1",{className:"App-title"},"Movie Star Rentals")),c.a.createElement(D.a,null,c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",{className:"App-nav-link-container"},c.a.createElement(D.b,{className:"App-nav-link",to:"/"},"Home")),c.a.createElement("li",{className:"App-nav-link-container"},c.a.createElement(D.b,{className:"App-nav-link",to:"/library"},"Library")),c.a.createElement("li",{className:"App-nav-link-container"},c.a.createElement(D.b,{className:"App-nav-link",to:"/search"},"Search")),c.a.createElement("li",{className:"App-nav-link-container"},c.a.createElement(D.b,{className:"App-nav-link",to:"/customers"},"Customers")))),c.a.createElement("div",{className:"CheckoutReturn"},c.a.createElement(j,{movie:this.state.selectedMovie.title,customer:this.state.selectedCustomer}),c.a.createElement(M,{movie:this.state.selectedMovie.title,customer:this.state.selectedCustomer}),c.a.createElement("button",{className:"MainButton",onClick:this.onClearSelection.bind(this)},"Clear Movie/Customer"),c.a.createElement("p",{className:"ShowSelected"},"  ",c.a.createElement(_.a,null),"  Movie: ",this.state.selectedMovie.title),c.a.createElement("p",{className:"ShowSelected"}," ",c.a.createElement(B.a,null)," Customer: ",this.state.selectedCustomer.name)),c.a.createElement(R.c,null,c.a.createElement(R.a,{exact:!0,path:"/"},c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:L.a,alt:"girl in red and purple sunglasses"}))),c.a.createElement(R.a,{path:"/library"},c.a.createElement(p,{setSelectedMovieCallBack:this.setSelectedMovie.bind(this)})),c.a.createElement(R.a,{path:"/search"},c.a.createElement(g,null)),c.a.createElement(R.a,{path:"/customers"},c.a.createElement(E,{setSelectedCustomerCallBack:this.setSelectedCustomer.bind(this)})))),c.a.createElement("div",{className:"App-selections"},c.a.createElement("div",{className:"App-selected"},c.a.createElement(k,{movie:this.state.selectedMovie})),this.state.selectedCustomer.name&&c.a.createElement("div",{className:"App-selected-customer-container App-selected "},c.a.createElement("h3",{className:"App-customer-detail-title"},"Customer Details:"),c.a.createElement("p",null,c.a.createElement("span",{className:"App-customer-detail"},"Name:")," ",this.state.selectedCustomer.name,",  ",c.a.createElement("span",{className:"App-customer-detail"},"Registered At: ")," ",A()(this.state.selectedCustomer.registered_at).format("LL")),c.a.createElement("ul",null,c.a.createElement("li",{className:"App-list-style"},c.a.createElement("span",{className:"App-customer-detail"},"Address: ")," ",this.state.selectedCustomer.address),c.a.createElement("li",{className:"App-list-style"},c.a.createElement("span",{className:"App-customer-detail"},"City: ")," ",this.state.selectedCustomer.city),c.a.createElement("li",{className:"App-list-style"},c.a.createElement("span",{className:"App-customer-detail"},"State: ")," ",this.state.selectedCustomer.state),c.a.createElement("li",{className:"App-list-style"},c.a.createElement("span",{className:"App-customer-detail"},"Postal Code: ")," ",this.state.selectedCustomer.postal_code),c.a.createElement("li",{className:"App-list-style"},c.a.createElement("span",{className:"App-customer-detail"},"Phone: "),"Phone: ",this.state.selectedCustomer.phone),c.a.createElement("li",{className:"App-list-style"},c.a.createElement("span",{className:"App-customer-detail"},"Account Credit: ")," ",this.state.selectedCustomer.account_credit),c.a.createElement("li",{className:"App-list-style"},c.a.createElement("span",{className:"App-customer-detail"},"Movies Checked Out: ")," ",this.state.selectedCustomer.movies_checked_out_count)))))}}]),a}(n.Component),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(c.a.createElement(I,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/video-store-consumer",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/video-store-consumer","/service-worker.js");x?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):P(e)}))}}()}},[[36,1,2]]]);
//# sourceMappingURL=main.c356b667.chunk.js.map